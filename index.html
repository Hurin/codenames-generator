<!DOCTYPE html>
<html lang="en">

<head>
 <meta charset="utf-8" />
  <title>Codenames Map Generator</title>
  <link rel="stylesheet" href="styles.css" />
  
<script language="javascript">
function permutation(rsort) {     
 for(var idx = 0; idx < rsort.length; idx++)
 {
    var swpIdx = idx + Math.floor(Math.random() * (rsort.length - idx));
    // now swap elements at idx and swpIdx
    var tmp = rsort[idx];
    rsort[idx] = rsort[swpIdx];
    rsort[swpIdx] = tmp;
 }
}

function init() {
    
    return function generate() { 
        var map = document.getElementById("map");
        map.innerHTML = "";

        var buttons = new Array(25);
        for(var i=0;i<buttons.length;i++) {
            buttons[i] = document.createElement("button");
            buttons[i].className += " map-card";
            map.appendChild(buttons[i]);
        }
     
        var order = new Array(25);

        for(var i=0;i<order.length;i++) {
            order[i] = i;
        }
        permutation(order);
        
        var currentClass = " black-card"
        var coin = Math.random(2) > 1 ? true : false;
        
        for(var i=0;i<order.length;i++) {
        
        if (i === 1) currentClass = coin ? " blue-card" : " red-card";
        if (i === 9) currentClass = coin ? " red-card" : " blue-card";
        if (i === 18) currentClass = " sand-card";
        buttons[order[i]].className += currentClass;
        
    }
  }  
}
 
window.onload = () => window.generate = init();


</script>
  
</head>

<body>  
<h1>Codenames Map Generator</h1>
<div id="main">
<div id="map" class=map>
</div>
<input type="button" value="Generate!" id="gen-button" onclick="window.generate()" />

</div>

</body>
</html>
